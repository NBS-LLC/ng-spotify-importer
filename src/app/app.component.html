<h1>
  {{ title }}
  <span *ngIf="releaseUrl">
    ( <a data-testid="release-link" href="{{ releaseUrl }}" target="_blank">v{{ version }}</a> )
  </span>
</h1>

<p>View <a href="{{ projectUrl }}" target="_blank">source code</a> and contribute to this project on GitHub.</p>

<app-notification></app-notification>

<app-spotify-auth></app-spotify-auth>

<div *ngIf="showPlaylistLoader" id="playlist-loader">
  <div class="donation-container">
    <a href="https://www.paypal.com/ncp/payment/5XWKGWV6R5ZLN" target="_blank" class="paypal-button">
      Support this Project
    </a>
    <div class="paypal-branding">
      Powered by
      <img src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="PayPal" />
    </div>
  </div>

  <app-file-reader (fileChanged)="onFileChanged()" (fileContents)="onFileRead($event)"></app-file-reader>

  <div>
    <label for="playlist-load-progress">Playlist Loading Progress:</label>
    <progress id="playlist-load-progress" [value]="songsLoaded.count" [max]="songs.length"></progress>
    <span style="margin-left: 0.5em">{{ songsLoaded.count }} / {{ songs.length }}</span>
  </div>

  <app-playlist-editor *ngIf="playlist" [playlist]="playlist"></app-playlist-editor>
</div>

<!-- Large File Warning Dialog -->
<div class="overlay" *ngIf="showLargeFileWarning">
  <div class="dialog">
    <h2>Large File Detected</h2>
    <p>Processing thousands of songs can be very slow and may cause the application to become unresponsive or crash.</p>
    <p>The upcoming, next-generation version of this tool will handle large imports more effectively.</p>
    <div class="dialog-buttons">
      <button (click)="proceedWithLargeImport()">Proceed at Your Own Risk</button>
      <button (click)="cancelLargeImport()">Use a Smaller File</button>
    </div>
  </div>
</div>
